{"version":3,"sources":["webpack:///webpack/bootstrap f38f5d890761ca56f8d0","webpack:///./source/src/model/article.js","webpack:///./source/src/model/config.js","webpack:///./source/src/common/util/index.js","webpack:///./source/src/card/common/footer.js","webpack:///./source/src/card/common/main_container.js","webpack:///./source/src/helper/init_option.js","webpack:///./source/src/card/blog/pannel_list.js","webpack:///./source/src/model/read_history.js","webpack:///./source/src/helper/search.js","webpack:///./source/src/card/blog/pannel.js","webpack:///./source/src/card/blog/article_list.js","webpack:///./source/src/index.js","webpack:///./source/src/helper/common_event.js","webpack:///./source/src/common/util/event.js","webpack:///./source/src/helper/sw_post_message.js","webpack:///./source/src/card/common/navigator.js","webpack:///./source/src/page/list.js","webpack:///./source/src/helper/recommend.js","webpack:///./source/src/page/book.js","webpack:///./source/src/card/common/slidebar_container.js","webpack:///./source/src/page/content.js","webpack:///./source/src/card/blog/content.js","webpack:///./source/src/page/blog.js","webpack:///./source/src/page/search.js","webpack:///./source/src/card/blog/pull_article.js"],"names":["m_util","require","m_search","swPostMessage","catalogList","catalogDict","articleList","articleDict","sidebarList","bookList","bookDict","tagList","startTime","Date","now","isPreload","sidebarName","getSidebarPath","path","BCD","addCommand","ele","option","data","name","getRandomName","result","item","list","idx","summary","length","content","attr","setTimeout","editormd","markdownToHTML","markdown","htmlDecode","tocm","emoji","taskList","tex","flowChart","sequenceDiagram","indexOf","location","hash","baseHash","replace","$","html","$0","$1","substr","getName","arr","match","getURL","o","mtime","getPath","pathWithSearch","decodeURIComponent","origin","getSortContent","paragraph","len","minLen","ret","substring","partCount","partIndex","$2","getContent","str","reg","split","filter","count","some","i","lastIndexOf","con","processItem","title","isRaw","trim","tfList","getTFs","preload","obj","totalList","concat","existDict","forEach","m","dict","console","log","init","tagSet","Set","processArticle","isDirectory","tags","slice","add","time","getTime","href","encodeURIComponent","push","extend","sort","a","b","processCount","initArticle","Promise","resolve","ajaxCache","map","getTagArticles","tag","fetchContent","ajaxList","ajax","url","success","when","apply","then","getList","method","page","parseInt","start","num","getChildCatalog","catalog","tagLength","every","getCatalogArticles","testItem","testType","searchWeight","titleMatchDict","contentMatchDict","test","titleMathLength","key","Math","pow","pointList","point","weight","startPoint","search","contentMathLength","Object","assign","searchList","word","callback","isCommend","getGlobalRegex","fitList","remainList","searchCallback","resultList","table","totalNum","checkNum","searchWord","batchProcess","next","subList","splice","testObj","searchDirect","module","exports","hasCatalog","hasArticle","hasBook","getCatalogMessage","getCatalogs","getBooks","getTags","getArticleList","getListByCatalog","getListByTag","getArticleContent","host","isLocalhost","username","config","searchIssueURL","newIssueURL","update","author","logoTitle","window","CONFIG","getConfig","getIndex","nav","getConfigSync","getNewIssueURL","getSearchIssueURL","m_event","date","diff","round","getDate","getFullYear","formatDate","leftFillString","random","toString","stopBubble","stopBubbleEx","m_config","viewHeader","getData","template","setView","anchorBack","history","state","scrollY","getCode","scrollTo","extendState","notRender","hasRender","getPage","show","m_article","m_recommend","c_pannel","view","viewPannelBook","viewPannelCatalog","viewPannelTag","isInline","viewPannelRecommendPost","delay","getRecommend","reset","viewList","storageKey","readHistory","JSON","parse","localStorage","getItem","e","addHistory","setItem","stringify","hasRead","getReadTime","createNGram","n","end","gramDict","getWordList","wordList","processStrict","processChiese","processEnglish","toLowerCase","removeStopWord","threeDict","fourDict","tfDict","token","frequency","wordSet","RegExp","join","hide","c_header","c_pageList","c_pageBook","c_pageContent","c_pageBlog","c_pageSearch","append","app","setTitle","navLis","find","removeClass","each","domLi","addClass","document","initPage","replaceHash","go","on","back","stopPropagation","preventDefault","index","postMessage","callbackDict","navigator","serviceWorker","addEventListener","event","cbid","resp","req","controller","viewInput","viewDrop","viewGroup","getWord","val","doSearch","getHash","focus","selectLi","selectList","oldWord","keyCode","css","eq","trigger","c_footer","c_mainContainer","m_initOption","c_pannelList","c_articleList","viewBody","viewTop","viewPannelList","addView","viewFoot","currentHash","hashArr","empty","hrefHead","pageNum","parent","prepend","m_readHistory","itemSet","uniqList","currentPath","getCorrelation","a_tfList","b_tfList","total","reduce","sum","getSimilarArticles","calModel","weightList","article","getMutiSamples","tagDict","retList","originList","tagName","keys","j","delayTime","keyWords","alist","s_mainContainer","viewContent","viewSlidebar","slidebar","chapters","fileName","exeCommand","currentDom","c_content","innerHeight","m_pullArticle","container","viewRank","viewTips","full","keyWord"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f38f5d890761ca56f8d0","const m_util = require('common/util/index');\nconst m_search = require('helper/search');\nconst swPostMessage = require('helper/sw_post_message.js');\nlet catalogList = []; //目录列表\nlet catalogDict = {};\nlet articleList = []; //文件列表\nlet articleDict = {};\nlet sidebarList = []; //sidebar文件列表(sidebar文件也可以在articleDict中索引到)\nlet bookList = []; //书籍列表\nlet bookDict = {};\nlet tagList = [];\nlet startTime = Date.now();\nlet isPreload = false;\nconst sidebarName = '$sidebar$';\nconst getSidebarPath = (path) => path + '/' + sidebarName + '.md';\n\nBCD.addCommand('mkview', function (ele, option, data) {\n  let name = m_util.getRandomName();\n  let result;\n  if ('idx' in option) {\n    let item = data.list[option.idx];\n    result = item.summary;\n    if (result.length < item.content.length) {\n      result += '...';\n    }\n  } else {\n    result = data.content;\n  }\n\n  ele.attr('id', name);\n  setTimeout(function () { //dom元素展示出来之后再绑定，不然流程图等会有样式问题\n    editormd.markdownToHTML(name, {\n      markdown: result, //+ \"\\r\\n\" + $(\"#append-test\").text(),\n      // htmlDecode: true, // 开启 HTML 标签解析，为了安全性，默认不开启\n      htmlDecode: \"style,script,iframe\", // you can filter tags decode\n      //toc             : false,\n      tocm: true, // Using [TOCM]\n      //tocContainer    : \"#custom-toc-container\", // 自定义 ToC 容器层\n      //gfm             : false,\n      //tocDropdown     : true,\n      // markdownSourceCode : true, // 是否保留 Markdown 源码，即是否删除保存源码的 Textarea 标签\n      emoji: true,\n      taskList: true,\n      tex: true, // 默认不解析\n      flowChart: true, // 默认不解析\n      sequenceDiagram: true // 默认不解析\n    });\n    if (result.indexOf('[TOC]') > -1 && location.hash.indexOf('.md') > 0) { //兼容TOC目录\n      let baseHash = location.hash.replace(/\\.md\\/.*/, '.md');\n      $('#' + name).html($('#' + name).html()\n        .replace(/href=\"#([^\"]*)/g, function ($0, $1) {\n          if ($1) {\n            return 'href=\"' + baseHash + '/' + $1;\n          }\n          return $0\n        }).replace(/name=\"([^\"]*)/g, function ($0, $1) {\n          if ($1) {\n            return 'name=\"' + baseHash.substr(1) + '/' + $1;\n          }\n          return $0\n        }));\n    }\n    $('a[href^=\"http\"]').attr('target', '_blank');\n  }, 0);\n});\n\nconst getName = (path) => {\n  let arr = path.match(/\\/([^/.]+)[.\\w-_]+$/);\n  return arr ? arr[1] : '';\n}\n\nconst getURL = (o) => '/' + o.path + '?mtime=' + o.mtime;\n\nconst getPath = (pathWithSearch) => decodeURIComponent(pathWithSearch.replace(location.origin + '/', '').replace(/\\?[^?]+/, ''));\n\n\nconst getSortContent = (content, paragraph = 10) => {\n  let len = 500;\n  let minLen = len / 2;\n  let ret = content.substring(0, len);\n  let partCount = 0;\n  let partIndex = 0;\n  ret.replace(/([^\\n]*)(\\n|<br>|<\\/p>)/g, function ($0, $1, $2, idx) {\n    partCount++;\n    if (partCount > paragraph && $1.length > 10 && partIndex === 0) {\n      partIndex = idx;\n    }\n    if (partCount == 15 && partIndex === 0) {\n      partIndex = idx;\n    }\n  });\n  if (partIndex > 0) {\n    ret = ret.substring(0, partIndex);\n    if (ret.length < len * 0.7) {\n      return ret;\n    }\n  }\n  let getContent = (str, reg) => {\n    let arr = str.split(reg).filter(o => !!o);\n    let count = 0;\n    if (arr && arr.length > 2) {\n      let idx = arr.length - 1;\n      if (arr.some((o, i) => {\n          count += o.length;\n          if (count > minLen && i > 1) {\n            idx = i;\n            return true;\n          }\n        })) {\n        return str.substr(0, str.lastIndexOf(arr[idx])).replace(/[#\\s]+$/, '');\n      }\n      return str;\n    }\n  }\n  let con = getContent(ret, /\\s*#+\\s*/);\n  if (con) {\n    return con;\n  }\n  con = getContent(ret, /\\s+/);\n  if (con) {\n    return con;\n  }\n  return ret;\n}\n\nconst processItem = (item, content)=>{\n  if(item.title==sidebarName){\n    item.content = content;\n    return item;\n  }\n  let isRaw = true;\n  // let start = content.indexOf('---');\n  // if(start>-1){\n  //   let end;\n  //   if(start===0){\n  //     start = start+3;\n  //     end = content.substring(start).indexOf('---') + start;\n  //   }else{\n  //     end = start;\n  //     start = 0;\n  //   }\n  //   let arr = content.substring(start, end).match(/([^:\\n]+:[^\\n]+)/g);\n  //   if(arr){\n  //     let attrDict = {};\n  //     arr.forEach(function(o){\n  //       let point = o.indexOf(':');\n  //       attrDict[o.substring(0, point)] = o.substring(point+1);\n  //     });\n  //     item.title = attrDict.title || item.title;\n  //     isRaw = false;\n  //     content = content.substring(end+3).trim();\n  //     if(attrDict.dest_url){\n  //       content = '链接：['+attrDict.dest_url+']('+attrDict.dest_url+')'\n  //     }\n  //   }\n  // }\n  if(isRaw){\n    let arr = content.match(/^[\\s]*#[^\\n]+[\\s]*/);\n    if(arr){\n     let title = arr[0];\n     item.title = title.replace(/[#\\s]+/, '').trim();\n     content = content.replace(title, '');\n     isRaw = false;\n    }\n  }\n\n  item.content = content = (content || '').replace(/^[\\s]*---[-]*/, '');\n  item.tfList = m_search.getTFs(content);\n  item.summary = getSortContent(content);\n  return item;\n};\n\nconst preload = (obj) => {\n  let count = 0;\n  for (var pathWithSearch in obj) {\n    let path = getPath(pathWithSearch);\n    let item;\n    if (item = articleDict[path]) {\n      count++;\n      processItem(item, obj[pathWithSearch]);\n    }\n  }\n  let totalList = sidebarList.concat(articleList);\n  let existDict = {};\n  totalList.forEach(o => {\n    existDict[location.origin + '/' + o.path] = 1;\n  });\n\n  swPostMessage({\n    m: 'delete_not_exist_article',\n    dict: existDict\n  });\n\n\n  if (isPreload) {\n    if (count) {\n      console.log('文章同步成功（' + count + '篇）！可以离线使用');\n    } else {\n      console.log('文章同步成功!（无更新内容）');\n    }\n    return false;\n  } else {\n    isPreload = true;\n    console.log('本地文章加载成功（' + count + '/' + (articleList.length + sidebarList.length) + '个文件）');\n  }\n  return true;\n};\n\nconst init = (list) => {\n  catalogList = []; //目录列表\n  articleList = []; //文件列表\n  sidebarList = [];\n  bookList = [];\n  let tagSet = new Set();\n  let processArticle = (o) => {\n    let {\n      path = '', mtime\n    } = o;\n    if (o.isDirectory) {\n      let tags = path.split('/').slice(1);\n      tags.forEach(o => tagSet.add(o));\n      let item = {\n        path,\n        time: m_util.getTime(mtime),\n        href: '#!/' + encodeURIComponent(o.path),\n        title: path.slice(path.lastIndexOf('/') + 1),\n        tagList: tags\n      };\n      catalogList.push(item);\n    } else {\n      let tags = path.split('/').slice(1, -1);\n      tags.forEach(o => tagSet.add(o));\n      let item = {\n        path,\n        mtime,\n        href: '#!/' + encodeURIComponent(o.path),\n        title: getName(path),\n        time: m_util.getTime(mtime),\n        tagList: tags\n      };\n      if (articleDict[path]) {\n        item = $.extend(articleDict[path], item);\n      } else {\n        articleDict[path] = item;\n      }\n      articleList.push(item);\n    }\n  };\n  list.forEach(processArticle);\n  articleList = articleList.filter(o => {\n    if (o.title == sidebarName) {\n      sidebarList.push(o);\n      return false;\n    }\n    return true;\n  });\n  catalogList = catalogList.filter(o => {\n    if (articleDict[getSidebarPath(o.path)]) {\n      bookDict[o.path] = o;\n      bookList.push(o);\n      return false;\n    }\n    catalogDict[o.path] = o;\n    return true;\n  });\n  articleList = articleList.sort((a, b) => {\n    return b.mtime - a.mtime;\n  });\n  tagList = [...tagSet];\n};\n\nlet processCount = 0;\n//先用缓存，请求回来再更新\nconst initArticle = new Promise((resolve) => {\n  BCD.ajaxCache('./json/article.json', (data) => {\n    init(data);\n    processCount++;\n    if (processCount === 2) { //如果网络请求失败，这里不会被执行\n      let totalList = sidebarList.concat(articleList);\n      swPostMessage({\n        m: 'preloadAtricle',\n        list: totalList.map(getURL)\n      }, preload);\n    }\n    resolve();\n    return 1; //缓存数据到localStorage\n  }, 0, 1E3, true);\n});\n\n//获取包含相关tag文章列表\nconst getTagArticles = (tag) => {\n  if (tag) {\n    return articleList.filter(o => o.tagList &&\n      o.tagList.indexOf(tag) > -1);\n  }\n  return articleList;\n};\n\nconst fetchContent = (list) => {\n  let ajaxList = list.filter(o => articleDict[o.path] && !articleDict[o.path].content).map(o => $.ajax({\n    url: getURL(o),\n    success(str) {\n      articleDict[o.path] = processItem(o, str);\n    }\n  }));\n  return new Promise(function (resolve) {\n    $.when.apply(this, ajaxList).then(resolve, resolve);\n  });\n};\n\n\nconst getList = (method) => (tag, page = 0, count = 10) => {\n  page = parseInt(page || 0);\n  let start = page * count;\n  let totalList = method(tag);\n  let list = totalList.slice(start, start + count);\n  return fetchContent(list).then(() => {\n    return {\n      tag,\n      page,\n      count,\n      num: totalList.length,\n      list: list.map(o => articleDict[o.path]).filter(o => !!(o && o.content))\n    };\n  });\n};\n\nconst getChildCatalog = (path) => {\n  let catalog = catalogDict[path];\n  if (catalog) {\n    let tagList = catalog.tagList;\n    let tagLength = tagList.length + 1;\n    return bookList.concat(catalogList).filter(o => o.tagList.length &&\n      tagList.every((tag, i) => o.tagList.length == tagLength && tag == o.tagList[i]));\n  }\n  return [];\n};\n\nconst getCatalogArticles = (path) => {\n  let catalog = catalogDict[path];\n  if (catalog) {\n    let tagList = catalog.tagList;\n    return articleList.filter(o => o.tagList.length &&\n      tagList.every((tag, i) => tag == o.tagList[i])).sort((a, b) => a.tagList.length - b.tagList.length);\n  }\n  return [];\n};\n\nconst testItem = (reg, item) => {\n  let testType = 0;\n  let obj = {};\n  let searchWeight = 0;\n  let titleMatchDict = {};\n  let contentMatchDict = {};\n  if (reg.test(item.title)) {\n    obj.title = item.title.replace(reg, function ($0) {\n      if (titleMatchDict[$0]) {\n        titleMatchDict[$0] ++;\n      }else{\n        titleMatchDict[$0] = 1;\n      }\n      return '<span class=\"text-danger\">' + $0 + '</span>';\n    });\n    testType += 1;\n    let titleMathLength = 0;\n    for (var key in titleMatchDict) {\n      titleMathLength += /\\w/.test(key) ? titleMatchDict[key] : Math.pow(1.6, key.length-1) * titleMatchDict[key];\n    }\n    searchWeight += titleMathLength / item.title.length;\n  }\n  if (item.content && reg.test(item.content)) {\n    let pointList = [];\n    obj.content = item.content.replace(reg, function ($0, point) {\n      if (contentMatchDict[$0]) {\n        contentMatchDict[$0]++;\n      } else{\n        contentMatchDict[$0] = 1;\n      }\n      let weight = /\\w/.test($0) ? 2 : $0.length;\n      pointList.push({\n        point,\n        weight\n      });\n      return '<font color=#a94442>' + $0 + '</font>';\n    });\n    pointList = pointList.sort((a, b) => b.weight - a.weight);\n    let startPoint = pointList[0].point;\n    let start = startPoint - 30;\n    let summary = item.content.substr(start < 0 ? 0 : start);\n    start = summary.search(/[。\\n\\r]/);\n    if (start < startPoint) {\n      summary = getSortContent(summary.substr(start).replace(/^[。\\s]*/, ''), 5);\n    } else {\n      summary = getSortContent(summary.replace(/^[。\\s]*/, ''), 5);\n    }\n    obj.summary = summary.replace(reg, function ($0) {\n      return '<font color=#a94442>' + $0 + '</font>';\n    });\n    testType += 2;\n    let contentMathLength = 0;\n\n    for (var key in contentMatchDict) {\n      contentMathLength += /\\w/.test(key) ? contentMatchDict[key] : Math.pow(1.6, key.length-1) * contentMatchDict[key];\n    }\n    searchWeight += contentMathLength / Math.pow(item.content.length, 0.6);\n  }\n  obj.testType = testType;\n/*******calculate search weight**********/\n\n  obj.searchWeight = searchWeight;\n  return Object.assign({}, item, obj);\n};\n\n\nconst searchList = (word, callback, isCommend = false) => {\n  let reg = m_search.getGlobalRegex(word);\n  let fitList = [];\n  let remainList = [];\n  let ajaxList = [];\n  let totalList = articleList.filter(o => o);\n\n  const searchCallback = (list) => {\n    let resultList = list.filter(o => o.testType > 0).sort((a, b) => {\n      let ret = b.searchWeight - a.searchWeight;\n      if(ret===0){\n        return b.content.length - a.content.length + (b.mtime - a.mtime) / 1E5;\n      }\n      return ret;\n    });\n    if (resultList.length || list.length >= totalList.length) {\n      console.table(resultList.map(o => {\n        return {\n          path: o.path,\n          searchWeight: o.searchWeight\n        };\n      }));\n    }\n    callback({\n      totalNum: totalList.length,\n      checkNum: list.length,\n      searchWord: word,\n      list: resultList\n    });\n  };\n  const batchProcess = (list, next) => {\n    let subList = list.splice(0, 10);\n    fetchContent(subList).then(() => {\n      searchCallback(subList.map(o => testItem(reg, articleDict[o.path])));\n      if (list.length) {\n        batchProcess(list, next);\n      } else if (next) {\n        next();\n      }\n    })\n  };\n  totalList.forEach(o => {\n    let item = articleDict[o.path];\n    if (item) {\n      let testObj = testItem(reg, item);\n      if (item.content) {\n        fitList.push(testObj);\n      } else if (testObj.testType > 0) {\n        ajaxList.push(item);\n      } else {\n        remainList.push(o);\n      }\n    }\n  });\n  if (isCommend) {\n    return callback(ajaxList.concat(fitList).filter(o => o.testType > 0).sort((a, b) => b.searchWeight - a.searchWeight));\n  }\n  searchCallback(fitList);\n  batchProcess(ajaxList, function () {\n    batchProcess(remainList);\n  })\n  return remainList;\n};\n\n\n\n//搜索直达\nconst searchDirect = (word) => {\n  let reg = m_search.getGlobalRegex(word);\n  return articleList.filter(o => reg.test(o.title)).map(o => {\n    let weight = 0;\n    let item = {\n      href: o.href,\n      title: o.title.replace(reg, function ($0) {\n        weight += $0.length;\n        return '<span class=\"text-danger\">' + $0 + '</span>';\n      })\n    };\n    item.weight = weight\n    return item;\n  }).sort((a, b)=>b.weight - a.weight);\n};\n\n\nmodule.exports = {\n  getName,\n  isPreload,\n  startTime,\n  initArticle,\n  catalogDict,\n  articleDict,\n  hasCatalog: (path) => !!catalogDict[decodeURIComponent(path)],\n  hasArticle: (path) => !!articleDict[decodeURIComponent(path)],\n  hasBook: (path) => !!bookDict[decodeURIComponent(path)],\n  getCatalogMessage: (path) => catalogDict[decodeURIComponent(path)],\n  getCatalogs: () => catalogList,\n  getBooks: () => bookList,\n  getTagArticles,\n  getTags: () => tagList,\n  getSidebarPath,\n  getArticleList: () => articleList.map(o => articleDict[o.path]),\n  getListByCatalog: getList(getCatalogArticles),\n  getChildCatalog,\n  getListByTag: getList(getTagArticles),\n  getArticleContent: (path) => fetchContent([articleDict[path]])\n    .then(() => articleDict[path]),\n  searchDirect,\n  searchList\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/article.js","let arr = location.host.split(\".\");\nlet isLocalhost = arr.length === 1;\nlet username = isLocalhost ? \"swblog\" : arr[0];\nlet config = {\n  \"author\": username,\n  \"nav\": [\n    [\"Home\", \"#!/index\"],\n    [\"About\", \"#!/blog/about.md\"]\n  ]\n};\nlet searchIssueURL;\nlet newIssueURL;\n\nconst update = ()=>{\n  let author = config.author;\n  config.logoTitle = config.logoTitle || author+\"的博客\";\n  searchIssueURL = 'https://github.com/'+author+'/'+author+'.github.io/issues?utf8=%E2%9C%93&q=';\n  newIssueURL = 'https://github.com/' +author+'/'+author+'.github.io/issues/new?title=';\n  if(window.CONFIG){\n    CONFIG.username = username = config.author;\n  }\n};\nupdate();\n\n//先用缓存，请求回来再更新\nconst getConfig = new Promise((resolve)=>{\n  BCD.ajaxCache('./json/config.json', (data) => {\n    config = data || config;\n    if(config.author){\n      update();\n      resolve();\n      return 1; //缓存数据到localStorage\n    }\n    resolve();\n  }, 0, 1E3, true);\n});\n\n\n\n\nwindow.CONFIG = module.exports = {\n  username,\n  getIndex: ()=> config.nav && config.nav[0] && config.nav[0][1] || \"\",\n  isLocalhost,\n  getConfigSync: () => config,\n  getConfig,\n  getNewIssueURL: (title)=> newIssueURL + decodeURIComponent(isLocalhost ? \"localhost测试评论\" : title),\n  getSearchIssueURL: (title)=> newIssueURL + decodeURIComponent(isLocalhost ? \"localhost测试评论\" : title)\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/config.js","const m_event = require('./event');\nconst getTime = function(date) {\n  date = new Date(date);\n  var now = new Date();\n  var diff = now - date;\n  switch (true) {\n    case diff < 6E4:\n      return '刚刚';\n    case diff < 36E5:\n      return Math.round(diff / 6E4) + '分钟前';\n    case diff < 864E5:\n      return Math.round(diff / 36E5) + '小时前';\n    case diff < 1728E5 && now.getDate() - date.getDate() != 2:\n      return '昨天';\n    case date.getFullYear() === new Date().getFullYear():\n      return BCD.time.formatDate(date, \"%M月%d日\");\n    default:\n      return BCD.time.formatDate(date, \"%y年%M月%d日\");\n  }\n};\n\nconst leftFillString = function(num, length) {\n  return (\"0000000000\" + num).substr(-length);\n};\nconst getRandomName = function() {\n  return (\"aaaaaaaaaa\" + Math.random().toString(36).replace(/[.\\d]/g, '')).substr(-10)\n};\nmodule.exports = {\n  getTime,\n  leftFillString,\n  getRandomName,\n  stopBubble: m_event.stopBubble,\n  stopBubbleEx: m_event.stopBubbleEx\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/common/util/index.js"," //页脚\nconst m_config = require('model/config');\nmodule.exports = function(option) {\n  let viewHeader = $('<footer></footer>');\n  option = $.extend({\n    name: 'common/footer',\n    getData: function() {\n      return m_config.getConfigSync()\n    },\n    template:\n        '<div class=\"container\">'+\n        '  <hr>'+\n        '  <p class=\"text-center\">Copyright <%-obj.author%> © <%=new Date().getFullYear()%>. All rights reserved.</p>'+\n        '</div>'\n  }, option);\n  return viewHeader.setView(option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/footer.js","module.exports = ()=> $('<div class=\"container\">' +\n  '  <div class=\"row\">' +\n  '    <div class=\"col-sm-7 col-md-8 col-lg-8\">'+\n  '     <div data-selector=\"main\"></div></div>' +\n  '    <div class=\"col-sm-5 col-md-4 col-lg-4\" data-selector=\"panel\"></div>' +\n  '  </div>' +\n  '</div>');\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/main_container.js","function anchorBack() {\n    if (history.state && history.state.scrollY) { //支持锚点返回\n        if (BCD.history.getCode() == -1) {\n            scrollTo(0, history.state.scrollY);\n        }\n        BCD.extendState({ //保证刷新可回到头部\n            scrollY: 0\n        });\n    }\n}\n\n//带锚点返回，不reset子view\nfunction notRender(hasRender) {\n    if (hasRender) {\n        BCD.getPage().show();\n        anchorBack();\n        return 'show';\n    }\n}\nmodule.exports = {\n    notRender,\n    anchorBack\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/init_option.js","const m_article = require('model/article');\nconst m_recommend = require('helper/recommend');\nconst c_pannel = require('card/blog/pannel');\nmodule.exports = (view) => {\n  let viewPannelBook = c_pannel({\n    data: {\n      title: '书籍',\n      list: m_article.getBooks().map(o => {\n        return {\n          href: o.href,\n          title: o.title,\n          time: o.time\n        }\n      })\n    }\n  });\n  let viewPannelCatalog = c_pannel({\n    data: {\n      title: '分类',\n      list: m_article.getCatalogs().filter(o => o.tagList.length === 1).map(o => {\n        return {\n          title: o.title,\n          href: o.href\n        }\n      })\n    }\n  });\n  let viewPannelTag = c_pannel({\n    data: {\n      isInline: true,\n      title: '标签',\n      list: m_article.getTags()\n    }\n  });\n\n  let viewPannelRecommendPost = c_pannel({\n    delay: true\n  });\n  m_recommend.getRecommend(function(list){\n    viewPannelRecommendPost.reset({\n      title: '推荐阅读',\n      list: list.map(o => {\n        return {\n          href: o.href,\n          title: o.title,\n          time: o.time\n        }\n      })\n    });\n  });\n\n  return view.setView({\n    viewList: [viewPannelBook, viewPannelCatalog, viewPannelTag, viewPannelRecommendPost]\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pannel_list.js","const m_config = require('model/config');\nconst m_article = require('model/article');\nlet storageKey = 'read_history';\nlet readHistory = {};\nconst init = ()=> {\n  try{\n    readHistory = $.extend({}, JSON.parse(localStorage.getItem(storageKey)), readHistory);\n  }catch(e){}\n};\n\nm_config.getConfig.then(()=>{\n  storageKey = 'read_history_' + m_config.username;\n  init();\n})\n\nconst addHistory = (path)=>{\n  readHistory[path] = Date.now();\n  localStorage.setItem(storageKey, JSON.stringify(readHistory));\n};\n\n\nmodule.exports = {\n  addHistory,\n  hasRead: (path)=> !!readHistory[path],\n  getReadTime: (path)=> readHistory[path]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/model/read_history.js","const createNGram = (n) => (str) => {\n  let arr = [];\n  let end = str.length - n + 1;\n  for (var i = 0; i < end; i++) {\n    arr.push(str.substr(i, n));\n  }\n  return arr;\n}\n\nconst gramDict = {\n  4: createNGram(4),\n  3: createNGram(3),\n  2: createNGram(2)\n};\n\nconst getWordList = (str = '') => {\n  let wordList = [str];\n  let processStrict = (str) => str.replace(/['‘’][^'‘’]*['‘’]|[\"”“][^\"”“]*[\"”“]/g, function($0) {\n    wordList.push($0.replace(/['‘’\"”“]/g, ''));\n    return ' ';\n  });\n\n\n  let processChiese = (str) => str.replace(/[\\u4e00-\\u9fff\\uf900-\\ufaff]+/g, function($0) {\n    wordList.push($0);\n    for (var i = 4; i > 1; i--) {\n      if ($0.length > i) {\n        wordList.push.apply(wordList, gramDict[i]($0));\n      }\n    }\n    return ' ';\n  });\n\n  let processEnglish = (str) => {\n    wordList.push.apply(wordList,\n      str.split(/[^a-zA-Z]/)\n      .filter(o => o.length > 2)\n      .map(o => o.toLowerCase()));\n  };\n\n  processEnglish(processChiese(processStrict(str)));\n  //console.log('search RegExp', new RegExp(wordList.join('|'), 'ig'));\n  return wordList;\n};\n\nconst removeStopWord = (str) => {\n  str = str.replace(/\\s*```([^`\\n\\r]*)[^`]*```\\s*/g, function($0, $1){return ' '+$1+' ';}); //去掉代码\n  str = str.replace(/<[^\\u4e00-\\u9fff\\uf900-\\ufaff>]+>|\\([^\\u4e00-\\u9fff\\uf900-\\ufaff)]+\\)|\\w+[:@][\\w.?#=&\\/]+/g, ' ');//去掉html标签及超链接\n  str = str.replace(/怎么|的|是|开始|很多|我|觉得|非常|可以|一|了|上面|下面|这|那|哪|个|this|return|with/g, ' '); //去停用词\n  str = str.replace(/[^\\u4e00-\\u9fff\\uf900-\\ufaff\\w]/g, ' '); //非中文或英文，替换成空格\n  return str;\n}\n\nconst getTFs = (str = '') => {\n  let wordList = getWordList(removeStopWord(str)).slice(1);\n  let threeDict = {};\n  let fourDict = {};\n  let tfDict = {};\n  let tfList = [];\n\n  wordList.forEach(o => {\n    if (o.length < 2) {\n      return;\n    }\n    if (tfDict[o]) {\n      tfDict[o]++;\n    } else {\n      if (o.length == 3) {\n        threeDict[o] = 1;\n      }\n      if (o.length == 4) {\n        fourDict[o] = 1;\n      }\n      tfDict[o] = 1;\n    }\n  });\n  var token;\n  //去掉非词\n  for (token in fourDict) {\n    let frequency = tfDict[token];\n    gramDict[3](token).forEach(o => {\n      if (frequency === tfDict[o]) {\n        delete tfDict[o];\n        delete threeDict[o];\n        gramDict[2](o).forEach(item => {\n          if (frequency === tfDict[item]) {\n            delete tfDict[item];\n          }\n        });\n      }\n    });\n  }\n  for (token in threeDict) {\n    let frequency = tfDict[token];\n    gramDict[2](token).forEach(o => {\n      if (frequency === tfDict[o]) {\n        delete tfDict[o];\n      }\n    });\n  }\n\n  for (token in tfDict) {\n    tfList.push({\n      token,\n      frequency: tfDict[token]\n    });\n  }\n  return tfList.sort((a, b) => b.frequency - a.frequency);//.slice(0,10).map(o=>o.token);\n}\n\nmodule.exports = {\n  getWordList,\n  getTFs,\n  getGlobalRegex: (str) => {\n    let wordSet = new Set(getWordList(str));\n    let wordList = [...wordSet];\n    return new RegExp(wordList.join('|'), 'ig');\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/search.js"," //顶部导航\nmodule.exports = function(option) {\n  let view = $('<div class=\"panel panel-primary\"></div>');\n  option = $.extend({\n    name: 'blog/panel',\n    template:\n      '<%if(obj.title){%><div class=\"panel-heading\">' +\n      '  <h4><%-obj.title%></h4>' +\n      '</div><%}%>' +\n      '<div class=\"panel-body\">' +\n      '  <%if(obj.isInline){%>' +\n      '    <ul class=\"list-inline\">'+\n      '     <%(obj.list || []).forEach(function(o){%>' +\n      '      <%if(o.href){%>'+\n      '       <li><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a></li>'+\n      '      <%}else{%>'+\n      '       <li><a data-on=\"?m=go\" data-url=\"#!/tag/<%=o%>\"><%=o%></a></li>'+\n      '      <%}%>' +\n      '     <%})%>'+\n      '    </ul>' +\n      '  <%}else{%>' +\n      '    <ul class=\"list-group\">' +\n      '     <%(obj.list || []).forEach(function(o){%>' +\n      '      <li class=\"list-group-item\"><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a>'+\n      '       <%=o.time ? \"<span style=\\\\\\\"color: #a2a34f;\\\\\\\">(\"+o.time+\")</span>\" : \"\"%></li>' +\n      '     <%})%>'+\n      '    </ul>' +\n      '    <%}%>' +\n      '</div>',\n    end: function(data){\n      if(!(data && data.list && data.list.length)){\n        this.hide();\n        return 'hide';\n      }\n    }\n  }, option);\n  return view.setView(option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pannel.js"," //文章列表\nmodule.exports = function(option) {\n  return $.extend({\n    name: 'blog/article_list',\n    template: '<h3><%=obj.title%></h3>' +\n      '<%if(!(obj.list && obj.list.length)){%>'+\n      '<br><hr><center><h3>暂无内容</h3></center>'+\n      '<%}else{(obj.list || []).forEach(function(o, idx){%><article>' +\n      '  <h2><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%-o.title%></a></h2>' +\n      '  <div class=\"row\">' +\n      '    <div class=\"group1 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(o.tagList||[]).forEach(function(item, i, arr){%>'+\n      '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" '+\n      '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\n      '    </div>' +\n      '    <div class=\"group2 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-time\"></span>&nbsp;<%-o.time%>' +\n      '    </div>' +\n      '  </div>' +\n      '  <hr>' +\n      '  <div data-on=\"?m=mkview&idx=<%=idx%>\">'+\n      '  </div><br />' +\n      '' +\n      '  <p class=\"text-right\">' +\n      '    <a data-on=\"?m=go\" data-url=\"<%=o.href%>\">' +\n      '      continue reading...' +\n      '    </a>' +\n      '  </p>' +\n      '  <hr>' +\n      '</article><%})%>' +\n      '' +\n      '<ul class=\"pager\">' +\n      '  <li class=\"previous\"><a <%if(obj.page==0){%>style=\"opacity: 0.5;\"<%}else{%>'+\n      'data-on=\"?m=go\" data-url=\"<%=obj.hrefHead+\"/\"+(obj.page-1)%>\"<%}%>>&larr; Previous</a></li>' +\n      '  <li class=\"next\"><a <%if(obj.page==Math.floor(obj.num/obj.count)){%>style=\"opacity: 0.5;\"<%}else{%>'+\n      'data-on=\"?m=go\" data-url=\"<%=obj.hrefHead+\"/\"+(obj.page+1)%>\"<%}%>>Next &rarr;</a></li>' +\n      '</ul><%}%>'\n  }, option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/article_list.js","/**\n * @file index 入口文件，路由定义\n * @author ljquan@qq.com\n */\n\nrequire('helper/common_event.js');\nconst m_article = require('model/article');\nconst m_config = require('model/config');\nconst c_header = require('card/common/navigator');\nconst c_pageList = require('page/list.js');\nconst c_pageBook = require('page/book.js');\nconst c_pageContent = require('page/content.js');\nconst c_pageBlog = require('page/blog.js');\nconst c_pageSearch = require('page/search.js');\nlet viewHeader = c_header();\n$('body').append(viewHeader);\n\nm_config.getConfig.then(() =>\n  m_article.initArticle.then(() => {\n    viewHeader.reset();\n    BCD.app({ //入口\n      setTitle: function (str) {\n        //viewHeader.reset();\n        let navLis = viewHeader.find('.nav li');\n        navLis.removeClass('active');\n        navLis.each((i, domLi) => {\n          let url = $($(domLi).find('a')[0]).attr('data-url') || '';\n          if (location.hash.indexOf(url) === 0) {\n            $(domLi).addClass('active');\n          }\n        });\n        document.title = str;\n      },\n      initPage: function (key, next) {\n        var page = this;\n        if (key == 'index') {\n          c_pageList(page, key);\n          next();\n        } else if (key == 'tag') {\n          c_pageList(page, key);\n          next();\n        } else if (key == 'blog') {\n          c_pageBlog(page);\n          next();\n        } else if (key == 'search') {\n          c_pageSearch(page, key);\n          next();\n        } else {\n          let path = decodeURIComponent(key);\n          if (m_article.hasBook(path)) {\n            c_pageBook(page, path);\n            return next();\n          } else if (m_article.hasCatalog(path)) {\n            c_pageList(page, path);\n            return next();\n          } else if (m_article.hasArticle(path)) {\n            c_pageContent(page, path);\n            return next();\n          }\n\n          BCD.replaceHash(m_config.getIndex());\n          next(-1);\n        }\n      }\n    });\n  })\n);\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/index.js","const m_util = require('common/util')\n//data-on=\"?m=go\" data-url=\"<%=o.href%>\"\nconst go = (ele, option, data)=>{\n  ele.on('click', function(e){\n    BCD.go(ele.data('url'));\n    m_util.stopBubble(e);\n  })\n};\nBCD.addCommand('go', go);\n//data-on=\"?m=back\"\nconst back = (ele, option, data)=>{\n  ele.on('click', function(e){\n    history.back();\n    m_util.stopBubble(e);\n  })\n};\nBCD.addCommand('back', back);\n\nconst replaceHash = (ele, option, data)=>{\n  ele.on('click', function(e){\n    BCD.replaceHash(ele.data('url'));\n    m_util.stopBubble(e);\n  })\n};\nBCD.addCommand('replaceHash', replaceHash);\n//事件绑定\nmodule.exports = {\n  go,\n  back,\n  replaceHash\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/common_event.js","/**\n * @module {Object} event  事件相关的处理函数\n * @return {object} 方法集合\n * @property {function} stopBubble 停止冒泡并禁止默认事件\n * @property {function} stopBubbleEx 停止冒泡\n * @author ljquan@qq.com\n */\n\nmodule.exports = {\n    /**\n     * 停止冒泡并禁止默认事件\n     * @param  {event} e 事件\n     * @return {null}\n     */\n    stopBubble: function(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        }\n        e.preventDefault();\n    },\n    /**\n     * 停止冒泡\n     * @param  {event} e 事件\n     * @return {null}\n     */\n    stopBubbleEx: function(e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/common/util/event.js","const m_util = require('common/util');\n\nlet index = 0;\nlet postMessage = function(){};\nlet callbackDict = {};\n\nif (navigator.serviceWorker) {\n  navigator.serviceWorker.addEventListener('message', function(event) {\n    let {cbid, resp} = event.data;\n    if(cbid && callbackDict[cbid]){\n      if(!callbackDict[cbid](resp)){\n        delete callbackDict[cbid];\n      }\n    }\n  }); //页面通过监听service worker的message事件接收service worker的信息\n  postMessage = function(req, callback){\n    if(navigator.serviceWorker.controller && navigator.serviceWorker.controller.state=='activated'){\n      index++;\n      let obj = {req};\n      if(callback){\n        obj.cbid = m_util.getRandomName() + index;\n        callbackDict[obj.cbid] = callback;\n      }\n      navigator.serviceWorker.controller.postMessage(obj);  //页面向service worker发送信息\n    }\n  }\n}\n\n\nmodule.exports = postMessage;//postMessage(message, callback)\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/sw_post_message.js","const m_util = require('common/util');\nconst m_article = require('model/article');\nconst m_config = require('model/config');\n\n\nBCD.addCommand('navigator_search', function(ele){\n  ele.html('<div class=\"form-group open\">'+\n  '  <input type=\"text\" class=\"form-control\" placeholder=\"Search\">'+\n  '  <ul class=\"dropdown-menu\" style=\"right:auto;display:none\"></ul>'+\n  '</div>'+\n  '<button type=\"submit\" class=\"btn btn-primary\">Submit</button>');\n  let viewInput = ele.find('input');\n  let viewDrop = ele.find('ul').setView({\n    template:'<%(obj||[]).forEach(function(o){%>'+\n    '<li data-on=\"?m=go\" data-url=\"<%=o.href%>\"><a><%=o.title%></a></li>'+ //\n    '<%})%>'\n  });\n\n  let viewGroup = ele.find('.form-group');\n  const getWord = ()=> viewInput.val().trim();\n  const doSearch = ()=>{\n    let hash = '#!/search/'+encodeURIComponent(getWord());\n    if(BCD.getHash(0)=='search'){\n      BCD.replaceHash(hash);\n    }else{\n      BCD.go(hash);\n    }\n    setTimeout(function(){\n      viewInput[0].focus(); //延时才能自动focus\n    }, 300);\n  };\n  ele.find('button').on('click', function(e){\n    m_util.stopBubble(e);\n    let word = getWord();\n    if(word){\n      doSearch();\n    }\n  });\n  let selectLi = null;\n  let selectList = null;\n  let index = -1;\n  let oldWord = '';\n  viewInput.on('blur', function(){\n    setTimeout(function(){\n      viewDrop.hide();\n    }, 200);\n  });\n  ele.on('keydown', function(e){//上下选择\n    if(selectList &&(e.keyCode==40 || e.keyCode==38)){\n\n      if(e.keyCode==40){\n        index++;\n        if(index >= selectList.length){\n          index = 0;\n        }\n      }\n      if(e.keyCode==38){\n        index--;\n        if(index <= -selectList.length){\n          index = 0;\n        }\n      }\n      selectList.css('background-color','');\n      selectLi = selectList.eq(index);\n      selectLi.css('background-color','#b2d8fa');\n    }\n  });\n\n  ele.on('keyup', function(e){ //keypress要慢一拍 keypress input keyup\n    let word = getWord();\n    if(word){\n      if(e.keyCode==32){\n        return doSearch();\n      }\n      if(e.keyCode==13){\n        if(selectLi){\n          selectLi.trigger('click');\n        }else{\n          doSearch();\n        }\n      }\n\n      if(word==oldWord){\n        return viewDrop.show();\n      }\n      oldWord = word;\n      let list = m_article.searchDirect(word);\n      if(list.length){\n        index = -1;\n        selectLi = null;\n        viewDrop.reset(list);\n        selectList = viewDrop.find('li');\n      }\n    }else{\n      viewDrop.hide();\n    }\n  });\n})\n\n\n //顶部导航\nmodule.exports = function(option) {\n  let viewHeader = $('<header class=\"navbar navbar-inverse navbar-fixed-top bs-docs-nav\" role=\"banner\"></header>');\n  option = $.extend({\n    name: 'common/header',\n    getData: function() {\n      return m_config.getConfigSync()\n    },\n    template: '  <div class=\"container\">' +\n      '    <div class=\"navbar-header\">' +\n      '      <button class=\"navbar-toggle\" type=\"button\" data-toggle=\"collapse\" data-target=\".bs-navbar-collapse\">' +\n      '        <span class=\"sr-only\">Toggle navigation</span>' +\n      '        <span class=\"icon-bar\"></span>' +\n      '        <span class=\"icon-bar\"></span>' +\n      '        <span class=\"icon-bar\"></span>' +\n      '      </button>' +\n      '      <a data-on=\"?m=go\" data-url=\"<%=CONFIG.getIndex()%>\" class=\"logo-link\" style=\"padding: 12px;\"><%-obj.logoTitle%></a>' +\n      '    </div>' +\n      '    <nav class=\"collapse navbar-collapse bs-navbar-collapse\" role=\"navigation\">' +\n      '      <div class=\"navbar-form navbar-right\" data-on=\"?m=navigator_search\"></div>'+\n      '      <ul class=\"nav navbar-nav\"><%(obj.nav || []).forEach(function(o){%>' +\n      '        <li class=\"<%=location.hash==o[1] ? \"active\" : \"\"%>\"><a data-on=\"?m=replaceHash\" data-url=\"<%=o[1]%>\"><%-o[0]%></a></li>' +\n      '        <%})%>' +\n      '      </ul>' +\n      '    </nav>' +\n      '  </div>'\n  }, option);\n  return viewHeader.setView(option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/navigator.js","const c_footer = require('card/common/footer');\nconst c_mainContainer = require('card/common/main_container');\nconst m_article = require('model/article');\nconst m_initOption = require('helper/init_option');\nconst c_pannel = require('card/blog/pannel');\nconst c_pannelList = require('card/blog/pannel_list');\nconst c_articleList = require('card/blog/article_list');\n\n\n\nmodule.exports = function (page, key) {\n  let viewBody = c_mainContainer();\n  let viewTop;\n  let viewList = viewBody.find('[data-selector=\"main\"]');\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\n  viewList.setView(c_articleList());\n  viewBody.addView(viewPannelList);\n\n  let viewFoot = c_footer();\n  let currentHash;\n  page.setView({\n    start: function (hasRender) {\n      if (hasRender && currentHash == location.hash && BCD.history.getCode() == -1) {\n        return m_initOption.notRender(hasRender);\n      }\n      currentHash = location.hash;\n      let hashArr = decodeURIComponent(location.hash).split('/');\n      viewList.empty();\n      if (key == 'index') {\n        m_article.getListByTag(0, hashArr[2]).then((data) => {\n          data.title = \"最新文章\";\n          data.hrefHead = '#!/index';\n          viewList.reset(data);\n        });\n      } else if (key == 'tag') {\n        let tag = hashArr[2];\n        m_article.getListByTag(tag, hashArr[3]).then((data) => {\n          data.title = '\"' + tag + '\" 的最新文章';\n          data.hrefHead = '#!/tag/' + tag;\n          viewList.reset(data);\n        });\n      } else if (m_article.hasCatalog(key)) {\n        let pageNum = parseInt(hashArr[2] || 0);\n        if (pageNum === 0) {\n          if (viewTop) {\n            viewTop.show();\n          } else {\n            viewTop = c_pannel().reset({\n              isInline: true,\n              list: m_article.getChildCatalog(key).map(o => {\n                return {\n                  href: o.href,\n                  title: o.title\n                }\n              })\n            });\n          }\n          viewList.parent().prepend(viewTop);\n          //console.log('getChildCatalog', key, m_article.getChildCatalog(key));\n        } else if (viewTop) {\n          viewTop.hide();\n        }\n        m_article.getListByCatalog(key, pageNum).then((data) => {\n          data.title = '\"' + data.tag.replace(/^[^/]+\\//, '') + '\" 的最新文章';\n          data.hrefHead = '#!/' + BCD.getHash(0);\n          viewList.reset(data);\n        });\n      }\n    },\n    title: '文章列表',\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/list.js","const m_article = require('model/article');\nconst m_search = require('helper/search');\nconst m_readHistory = require('model/read_history');\n\nconst filter = (list) => {\n  let arr = [];\n  let itemSet = new Set(list);\n  let uniqList = [...itemSet];\n  let currentPath = decodeURIComponent(location.hash.replace('#!/', ''));\n  uniqList.some(function (o) {\n    if (!m_readHistory.hasRead(o.path) && o.path != currentPath) {\n      arr.push(o);\n      if (arr.length > 10) {\n        return true;\n      }\n    }\n  });\n  return arr;\n};\n\nconst getCorrelation = (a_tfList) => {\n  let tfDict = {};\n  a_tfList.forEach(o => {\n    tfDict[o.token] = o.frequency;\n  });\n  return (b_tfList) => {\n    let total = b_tfList.reduce((sum, item) => sum += item.frequency, 0);\n    return b_tfList.reduce((weight, item) => {\n      weight += (tfDict[item.token] || 0) * item.frequency / total;\n      return weight;\n    }, 0);\n  };\n};\n\nconst getSimilarArticles = (a_tfList) => {\n  let list = m_article.getArticleList().filter(o => o.tfList && o.tfList.length);\n  let calModel = getCorrelation(a_tfList);\n  let weightList = list.map(o => {\n    return {\n      article: o,\n      weight: calModel(o.tfList)\n    }\n  }).sort((a, b) => b.weight - a.weight);\n  console.table(weightList.slice(0, 20).map(o => {\n    return {\n      title: o.article.title,\n      weight: o.weight\n    }\n  }));\n  return weightList.map(o => o.article);\n}\n\nconst getMutiSamples = () => {\n  let tagDict = {};\n  let retList = [];\n  let originList = m_article.getArticleList();\n  let list = originList.filter(o => !m_readHistory.hasRead(o.path));\n  if (list.some(o => {\n      let tagList = o.tagList || [];\n      let tagName = tagList[tagList.length - 1];\n      if (tagDict[tagName]) {\n        tagDict[tagName].push(o);\n      } else {\n        tagDict[tagName] = [];\n        retList.push(o);\n      }\n      if (retList.length == 10) {\n        return true;\n      }\n    })) {\n    return retList;\n  } else {\n    let tagList = Object.keys(tagDict);\n    for (var i = 0; i < 10; i++) {\n      for (var j = 0; j < tagList.length; j++) {\n        let item;\n        let tagName = tagList[j];\n        if (item = tagDict[tagName][i]) {\n          retList.push(item);\n          if (retList.length == 10) {\n            return retList;\n          }\n        }\n      }\n    }\n  }\n  return retList.concat(originList.slice(0, 10-retList.length));\n}\n\nconst getRecommend = (callback) => {\n  let key = decodeURIComponent(BCD.getHash(0));\n  let articleList = getMutiSamples();\n  let delayTime = 2E3 - (Date.now() - m_article.startTime);\n  delayTime = m_article.isPreload ? 0 : (delayTime < 0 ? 0 : delayTime);\n\n  switch (true) {\n  case key == 'tag':\n    let word = decodeURIComponent(BCD.getHash(1));\n    setTimeout(function () {\n      m_article.searchList(word, (list) => {\n        callback(filter(list.concat(articleList)));\n      }, true);\n    }, delayTime);\n    break;\n  case m_article.hasArticle(key):\n    setTimeout(function () {\n      m_article.getArticleContent(key).then((data) => {\n        let tagList = data.tagList;\n        let keyWords = (data.tfList || []).slice(0, 10).map(o => o.token);\n        console.log('本文关键词为：', keyWords.join(','));\n        callback(filter(getSimilarArticles(data.tfList).concat(articleList)));\n      });\n    }, delayTime);\n    break;\n  case m_article.hasCatalog(key):\n    setTimeout(function () {\n      m_article.getListByCatalog(key, 0, 999).then((data) => {\n        //在目录列表中已经有当前目录文章的展示了，在这里优先展示搜索到的内容\n        let catalog = m_article.getCatalogMessage(key);\n        let alist = data.list || [];\n        m_article.searchList(catalog.tagList.join(' '), (list) => {\n          callback(filter(list.concat(alist.concat(articleList))));\n        }, true);\n      });\n    }, delayTime);\n    break;\n\n  default:\n    callback(articleList);\n    break;\n\n  }\n\n\n\n};\nmodule.exports = {\n  getRecommend\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/helper/recommend.js","const s_mainContainer = require('card/common/slidebar_container');\nconst m_article = require('model/article');\nconst m_readHistory = require('model/read_history');\nconst c_articleList = require('card/blog/article_list');\n\n\n\nmodule.exports = function (page, key) {\n  page.html(s_mainContainer);\n  let viewContent = page.find('[data-selector=\"main\"]');\n  let viewSlidebar = page.find('[data-selector=\"slidebar\"]');\n  let slidebar;\n  let currentHash;\n  viewSlidebar.setView({\n    name: 'blog/slidebar',\n    template: '<div data-on=\"?m=mkview\"></div>'\n  });\n\n  viewContent.setView({\n    name: 'blog/blog',\n    template: '<div data-on=\"?m=mkview\"></div>'\n  });\n\n\n  page.setView({\n    title: m_article.getName(key),\n    start: function () {\n      if (currentHash !== location.hash) {\n        viewContent.empty();\n        currentHash = location.hash;\n      }\n      this.show();\n      m_article.getArticleContent(m_article.getSidebarPath(key)).then((data) => {\n        let baseHash = '#!/' + BCD.getHash(0);\n        if (!slidebar) {\n          slidebar = $.extend({}, data);\n          let content = slidebar.content || '';\n          let chapters = slidebar.chapters = [];\n\n          slidebar.content = content.replace(/<%(([^>]|[^%]>)+)%>/g, function ($0, $1) {\n            let item = {};\n            let fileName = '';\n            if ($1.indexOf(']')>0) { //这种格式：[描述](相对与当前目录的地址)\n              let arr = $1.substr(1, $1.length - 2).split(/\\]\\s*\\(/);\n              item.title = arr[0] || '';\n              item.href  = baseHash + '/' + (arr[1] || '');\n              fileName = arr[1];\n            } else {\n              item.title = $1;\n              item.href = baseHash + '/' + $1 + '.md';\n              fileName = $1 + '.md';\n            }\n            item.path = key+'/'+fileName;\n            if(m_article.hasArticle(item.path)){\n              chapters.push(item);\n            }\n            return '<a data-on=\"?m=replaceHash\" data-url=\"' + item.href + '\">' + item.title + '</a>'+\n            '<span data-path=\"'+item.path+'\" class=\"icon glyphicon glyphicon-ok\" aria-hidden=\"true\" '+\n            'style=\"'+(m_readHistory.hasRead(item.path) ? '' : 'display:none')+'\"></span>';\n          });\n          viewSlidebar.reset(slidebar);\n          setTimeout(function () {\n            viewSlidebar.exeCommand();\n          });\n        }\n        let fileName = decodeURIComponent(key + location.hash.replace(baseHash, ''));\n        if (m_article.hasArticle(fileName)) {\n          m_article.getArticleContent(fileName).then((data) => {\n            m_readHistory.addHistory(fileName);\n            $(viewSlidebar.find('li.active')).removeClass('active');\n            let currentDom = $('.slidebar [data-path=\"'+fileName+'\"]');\n            currentDom.parent('li').addClass('active');\n            currentDom.show();\n            viewContent.reset(data);\n          });\n        } else if (slidebar.chapters[0]) {\n          return BCD.replaceHash(slidebar.chapters[0].href);\n        } else {\n          viewContent.reset({\n            content: '敬请期待',\n            title: fileName\n          });\n        }\n      });\n    }\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/book.js","module.exports = \n  '  <div class=\"row\">' +\n  '    <div class=\"slidebar col-sm-5 col-md-4 col-lg-3\" data-selector=\"slidebar\"></div>' +\n  '    <div class=\"col-sm-offset-5 col-md-offset-4 col-lg-offset-3 col-sm-7 col-md-8 col-lg-9\" data-selector=\"main\"></div>' +\n  '  </div>';\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/common/slidebar_container.js","//有侧边栏的内容展示\n\nconst c_mainContainer = require('card/common/main_container');\nconst c_footer = require('card/common/footer');\nconst m_article = require('model/article');\nconst m_readHistory = require('model/read_history');\nconst c_pannelList = require('card/blog/pannel_list');\nconst c_content = require('card/blog/content');\nconst m_initOption = require('helper/init_option');\n\n\n\nmodule.exports = function(page, key) {\n  let viewBody = c_mainContainer();\n  let viewContent = viewBody.find('[data-selector=\"main\"]');\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\n  viewContent.setView(c_content({\n    delay: true\n  }));\n  viewBody.addView(viewContent);\n  viewBody.addView(viewPannelList);\n\n  let viewFoot = c_footer();\n  page.setView({\n    start: function(hasRender){\n      if(hasRender){\n        return m_initOption.notRender(hasRender);\n      }\n      if(m_article.hasArticle(key)){\n        m_article.getArticleContent(key).then((data)=>{\n          m_readHistory.addHistory(key);\n          page.setView({title: data.title});\n          document.title = data.title;\n          viewContent.reset(data);\n        });\n      }\n    },\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/content.js","window.CONFIG = require('model/config')\n//单个文章\nmodule.exports = function (option) {\n  return $.extend({\n    name: 'blog/content',\n    template:\n      '<h1><%=obj.title%></h1>' +\n      '  <div class=\"row\">' +\n      '    <div class=\"group1 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(obj.tagList||[]).forEach(function(item, i, arr){%>'+\n      '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" '+\n      '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\n      '    </div>' +\n      '    <div class=\"group2 col-sm-6 col-md-6\">' +\n      '      <span class=\"glyphicon glyphicon-time\"></span>&nbsp;<%-obj.time%>' +\n      '    </div>' +\n      '  </div>' +\n      '  <hr>' +\n      '  <div data-on=\"?m=mkview\">' +\n      '  </div><br />' +\n      '  <hr>' +\n      '</article>' +\n      '<ul class=\"pager\">' +\n      '  <li class=\"previous\"><a data-on=\"?m=back\">← 返回</a></li>' +\n      ' <li><a target=\"_blank\" href=\"<%=CONFIG.getSearchIssueURL(obj.title)%>\">查看评论</a></li>' +\n      ' <li class=\"next\"><a target=\"_blank\" href=\"<%=CONFIG.getNewIssueURL(obj.title)%>\">去评论 &rarr;</a></li>' +\n      '</ul>'\n  }, option);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/content.js","//针对导航的，没有侧边栏的内容展示\n\nconst c_mainContainer = require('card/common/main_container');\nconst c_footer = require('card/common/footer');\nconst m_config = require('model/config');\nconst m_article = require('model/article');\nconst m_initOption = require('helper/init_option');\n\n\n\nmodule.exports = function(page) {\n  let viewBody = $('<div class=\"container\" style=\"min-height:'+((window.innerHeight||640) -200)+'px\"/>').setView({\n   name: 'blog/blog',\n   delay: true,\n   template: '<div data-on=\"?m=mkview\"></div>'\n });\n\n  let viewFoot = c_footer();\n  page.setView({\n    start: function(hasRender){\n      if(hasRender && BCD.history.getCode()==-1){\n        return m_initOption.notRender(hasRender);\n      }\n      let key = location.hash.replace('#!/', '');\n      if(m_article.hasArticle(key)){\n        m_article.getArticleContent(key).then((data)=>{\n          page.setView({title: data.title});\n          document.title = data.title;\n          viewBody.reset(data);\n        });\n      }else{\n        BCD.replaceHash(m_config.getIndex());\n      }\n    },\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/blog.js","const c_footer = require('card/common/footer');\nconst c_mainContainer = require('card/common/main_container');\nconst m_initOption = require('helper/init_option');\nconst c_pannelList = require('card/blog/pannel_list');\nconst m_pullArticle = require('card/blog/pull_article');\n\nmodule.exports = function (page, key) {\n  let viewBody = c_mainContainer();\n  let viewList = viewBody.find('[data-selector=\"main\"]');\n  let viewPannelList = c_pannelList(viewBody.find('[data-selector=\"panel\"]'));\n  viewList.setView({\n    viewList: [m_pullArticle.container]\n  });\n\n  viewBody.addView(viewList);\n  viewBody.addView(viewPannelList);\n\n  let viewFoot = c_footer();\n  let oldWord = '';\n  page.setView({\n    start: function (hasRender) {\n      let word = decodeURIComponent(BCD.getHash(1));\n      if (hasRender && oldWord == word) {\n        return m_initOption.notRender(true);\n      }\n      oldWord = word;\n      m_pullArticle.init(word);\n    },\n    title: '搜索结果',\n    viewList: [viewBody, viewFoot]\n  })\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/page/search.js","/**\n * 不断增加的列表\n */\nconst m_article = require('model/article');\nvar container = $('<div style=\"display:none;\">' +\n  '<div data-selector=\"tips\" style=\"margin: 20px;font-size: 20px;\"></div>' +\n  '<div data-selector=\"pull_list\"></div>' +\n  '</div>');\n\nvar viewRank = $(container.find('[data-selector=\"pull_list\"]'));\nvar viewTips = $(container.find('[data-selector=\"tips\"]'));\n\nviewRank.setView({\n  full: 'append',\n  template: '<%(obj.list || []).forEach(function(o, idx, list){%><article>' +\n    '  <h2><a data-on=\"?m=go\" data-url=\"<%=o.href%>\"><%=o.title%></a></h2>' +\n    '  <div class=\"row\">' +\n    '    <div class=\"group1 col-sm-6 col-md-6\">' +\n    '      <span class=\"glyphicon glyphicon-folder-open\"></span><%(o.tagList||[]).forEach(function(item, i, arr){%>' +\n    '       <%=i ? \"&nbsp;>&nbsp;\" : \"&nbsp;\"%><a data-on=\"?m=go\" ' +\n    '       data-url=\"#!/<%=encodeURIComponent([\"blog\"].concat(arr.slice(0, i+1)).join(\"/\"))%>\"><%=item%></a><%})%>' +\n    '    </div>' +\n    '    <div class=\"group2 col-sm-6 col-md-6\">' +\n    '      <span class=\"glyphicon glyphicon-time\"></span>&nbsp;<%-o.time%>' +\n    '    </div>' +\n    '  </div>' +\n    '  <hr>' +\n    '  <div data-on=\"?m=mkview&idx=<%=idx%>\">' +\n    '  </div><br />' +\n    '  <p class=\"text-right\">' +\n    '    <a data-on=\"?m=go\" data-url=\"<%=o.href%>\">' +\n    '      continue reading...' +\n    '    </a>' +\n    '  </p>' +\n    '  <%if(idx<list.length-1)print(\"<hr>\")%>' +\n    '</article><%})%>'\n});\n\n\nmodule.exports = {\n  container,\n  init: (word) => {\n    let count = 0;\n    let processCount = 0;\n    let keyWord = '<span class=\"text-danger\">' + word + '</span>'\n    viewTips.html('正在搜索：' + keyWord);\n    viewRank.empty();\n    m_article.searchList(word, function (data) {\n      viewRank.reset(data);\n      count += data.list && data.list.length || 0;\n      processCount += data.checkNum;\n      if (processCount < data.totalNum) {\n        viewTips.html('在(' + processCount + '/' + data.totalNum + ')搜索到' +\n          count + '篇关于：' + keyWord);\n      } else {\n        viewTips.html('在' + data.totalNum + '篇文章中搜索到' +\n          count + '篇关于：' + keyWord);\n      }\n\n      //console.log(data);\n    });\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/src/card/blog/pull_article.js"],"sourceRoot":""}